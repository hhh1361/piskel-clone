!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=8)}([function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o});const r={state:"?",penSize:1,currentColor:"?",previousColor:"?",frames:{frame_0:"?"}},n=function(){const t=document.getElementById("instrumentsContainer");t.addEventListener("click",a=>{if("instruments"===a.target.className){for(let e=0;e<15;e++)t.children[e].className="instruments";a.target.className=`${a.target.className}Current`,r.state=a.target.innerHTML}e.console.log(r)})},o=function(){const t=document.getElementById("thickness");t.addEventListener("click",a=>{if("penSize"===a.target.className){for(let e=0;e<4;e++)t.children[e].className="penSize",t.children[e].children[0].className="square";a.target.className=`${a.target.className}Current`,a.target.children[0].className=`${a.target.children[0].className}Current`,r.penSize=+a.target.children[0].innerHTML}else if("square"===a.target.className){for(let e=0;e<4;e++)t.children[e].className="penSize",t.children[e].children[0].className="square";a.target.parentNode.className=`${a.target.parentNode.className}Current`,a.target.className=`${a.target.className}Current`,r.penSize=+a.target.innerHTML}e.console.log(r)})},l=document.getElementById("currentColor"),s=document.getElementById("previousColor"),c=document.getElementById("swapColor");l.addEventListener("click",t=>{"activate"!==l.state?(l.children[0].style.display="flex",l.state="activate"):(l.children[0].style.display="none",l.state="deactivate",r.previousColor=r.currentColor,r.currentColor=getComputedStyle(t.target).backgroundColor,l.style.backgroundColor=r.currentColor,s.style.backgroundColor=r.previousColor,e.console.log(r))}),s.addEventListener("click",t=>{"activate"!==s.state?(s.children[0].style.display="flex",s.state="activate"):(s.children[0].style.display="none",s.state="deactivate",r.previousColor=getComputedStyle(t.target).backgroundColor,s.style.backgroundColor=r.previousColor,e.console.log(r))}),c.addEventListener("click",()=>{const e=r.currentColor;r.currentColor=r.previousColor,r.previousColor=e,l.style.backgroundColor=r.currentColor,s.style.backgroundColor=r.previousColor})}).call(this,a(2))},function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l});var r=a(0);function n(e,t,a,n){for(let o=0;o<r.a.penSize;o++)for(let l=0;l<r.a.penSize;l++)e[t+o][a+l]={color:n}}function o(e,t,a,r){t.clearRect(0,0,r*a,r*a);for(let n=0;n<r;n++)for(let o=0;o<r;o++)"?"!==e[n][o].color&&(t.fillStyle=e[n][o].color,t.fillRect(o*a,n*a,a,a))}function l(e,t,a,n){e.fillStyle=n,e.fillRect(5*a,5*t,5*r.a.penSize,5*r.a.penSize)}},function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var r=a(0);const n={canvas:"?",array:"?"};t.b=function(){!function(){const t=document.getElementById("center"),a=document.getElementById("canvasSizeTemp");let n,o,l;a.addEventListener("click",s=>{"canvasSize"===s.target.className&&(o=+s.target.innerHTML,t.removeChild(a),(l=document.getElementById("mainCanvas")).width=5*o,l.style.width=`${5*o}px`,l.height=5*o,t.style.padding=`${(640-5*o)/2}px`,l.style.border="1px solid white",l.style.opacity="1",function(t){n=new Array(t);for(let e=0;e<t;e++){n[e]=new Array(t);for(let a=0;a<t;a++)n[e][a]={color:"?"}}e.console.log(n)}(o),r.a.canvas=l,r.a.array=n,r.a.arrayClean=JSON.parse(JSON.stringify(n)),document.getElementById("canvasSizeInformation").innerHTML=` [${r.a.array.length}x${r.a.array.length}]`);const c=document.getElementById("preview").getContext("2d");let i,d=0;setInterval(()=>{const e=document.getElementsByClassName("frame");i=Array.from(e),d<i.length?(c.clearRect(0,0,224,224),c.drawImage(i[d].children[0],0,0),++d>=i.length&&(d=0)):d=0},300)})}()}}).call(this,a(2))},function(e,t,a){"use strict";(function(e){var r=a(0),n=a(1);t.a=function(){const t={x:0,y:0};let a=!1;const o=document.getElementById("mainCanvas");r.a.canvas=o;const l=o.getContext("2d");o.addEventListener("mousedown",s=>{t.x=s.pageX-o.offsetLeft,t.y=s.pageY-o.offsetTop,"pen"===r.a.state&&"?"!==r.a.currentColor&&(a=!0,e.console.log(t.x,t.y),l.fillStyle=r.a.currentColor,Object(n.b)(r.a.array,Math.floor(t.y/5),Math.floor(t.x/5),r.a.currentColor),e.console.log(r.a.array),l.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize))}),o.addEventListener("mousemove",e=>{if(!0===a&&"pen"===r.a.state){t.x=e.pageX-o.offsetLeft,t.y=e.pageY-o.offsetTop;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)Math.floor(t.x/5)+a<r.a.array.length&&Math.floor(t.y/5)+e<r.a.array.length&&(r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:r.a.currentColor});l.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize)}"pen"===r.a.state&&(document.onmouseup=()=>{a=!1,document.onmouseup=null})})}}).call(this,a(2))},function(e,t,a){"use strict";(function(e){var r=a(0);t.a=function(){const t={x:0,y:0};let a=!1;const n=document.getElementById("mainCanvas");r.a.canvas=n;const o=n.getContext("2d");n.addEventListener("mousedown",l=>{if(t.x=l.pageX-n.offsetLeft,t.y=l.pageY-n.offsetTop,"verticalMirrorPen"===r.a.state&&"?"!==r.a.currentColor){a=!0,e.console.log(t.x,t.y),o.fillStyle=r.a.currentColor;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:r.a.currentColor};for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.ceil((5*r.a.array.length-t.x)/5)-1-a]={color:r.a.currentColor};o.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize),o.fillRect(5*(r.a.array.length-Math.floor(t.x/5))-5*r.a.penSize,5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize)}}),n.addEventListener("mousemove",e=>{if(!0===a&&"verticalMirrorPen"===r.a.state){t.x=e.pageX-n.offsetLeft,t.y=e.pageY-n.offsetTop;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:r.a.currentColor};for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.ceil((5*r.a.array.length-t.x)/5)-1-a]={color:r.a.currentColor};o.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize),o.fillRect(5*(r.a.array.length-Math.floor(t.x/5))-5*r.a.penSize,5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize)}"verticalMirrorPen"===r.a.state&&(document.onmouseup=()=>{a=!1,document.onmouseup=null})})}}).call(this,a(2))},function(e,t,a){"use strict";(function(e){var r=a(0);t.a=function(){const t={x:0,y:0};let a=!1;const n=document.getElementById("mainCanvas");r.a.canvas=n;const o=n.getContext("2d");n.addEventListener("mousedown",l=>{if(t.x=l.pageX-n.offsetLeft,t.y=l.pageY-n.offsetTop,"horizontalMirrorPen"===r.a.state&&"?"!==r.a.currentColor){a=!0,e.console.log(t.x,t.y),o.fillStyle=r.a.currentColor;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:r.a.currentColor};for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.ceil((5*r.a.array.length-t.y)/5)-1-e][Math.floor(t.x/5)+a]={color:r.a.currentColor};o.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize),o.fillRect(5*Math.floor(t.x/5),5*(r.a.array.length-Math.floor(t.y/5))-5*r.a.penSize,5*r.a.penSize,5*r.a.penSize)}}),n.addEventListener("mousemove",e=>{if(!0===a&&"horizontalMirrorPen"===r.a.state){t.x=e.pageX-n.offsetLeft,t.y=e.pageY-n.offsetTop;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:r.a.currentColor};for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.ceil((5*r.a.array.length-t.y)/5)-1-e][Math.floor(t.x/5)+a]={color:r.a.currentColor};o.fillRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize),o.fillRect(5*Math.floor(t.x/5),5*(r.a.array.length-Math.floor(t.y/5))-5*r.a.penSize,5*r.a.penSize,5*r.a.penSize)}"horizontalMirrorPen"===r.a.state&&(document.onmouseup=()=>{a=!1,document.onmouseup=null})})}}).call(this,a(2))},function(e,t,a){"use strict";(function(e){var r=a(0);t.a=function(){const t={x:0,y:0};let a=!1;const n=document.getElementById("mainCanvas");r.a.canvas=n;const o=n.getContext("2d");n.addEventListener("mousedown",l=>{if(t.x=l.pageX-n.offsetLeft,t.y=l.pageY-n.offsetTop,"eraser"===r.a.state&&"?"!==r.a.currentColor){a=!0,e.console.log(t.x,t.y);for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)r.a.array[Math.floor(t.x/5)+e][Math.floor(t.y/5)+a].color="?";e.console.log(r.a.array),o.clearRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize)}}),n.addEventListener("mousemove",e=>{if(!0===a&&"eraser"===r.a.state){t.x=e.pageX-n.offsetLeft,t.y=e.pageY-n.offsetTop;for(let e=0;e<r.a.penSize;e++)for(let a=0;a<r.a.penSize;a++)Math.floor(t.x/5)+a<r.a.array.length&&Math.floor(t.y/5)+e<r.a.array.length&&(r.a.array[Math.floor(t.y/5)+e][Math.floor(t.x/5)+a]={color:"?"});o.clearRect(5*Math.floor(t.x/5),5*Math.floor(t.y/5),5*r.a.penSize,5*r.a.penSize)}"eraser"===r.a.state&&(document.onmouseup=()=>{a=!1,document.onmouseup=null})})}}).call(this,a(2))},function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(0);var o=function(){document.getElementById("settingsIconSave").addEventListener("click",()=>{const e=document.getElementById("img"),t=document.getElementById("mainCanvas").toDataURL();e.src=t,e.style.display="inline",e.onclick=()=>{window.location.href=e.src.replace("image/png","image/octet-stream")}})};var l=function(){const e=document.getElementById("fullscreen"),t=document.getElementById("preview");e.addEventListener("click",()=>{t.requestFullscreen()})};var s=function(){document.getElementById("canvasSizeInformation");const e=document.getElementById("cursorCoordinatesInformation"),t=document.getElementById("mainCanvas"),a={x:0,y:0};t.addEventListener("mousemove",function(r){a.x=r.pageX-t.offsetLeft,a.y=r.pageY-t.offsetTop,e.innerHTML=`${Math.floor(a.x/5)}:${Math.floor(a.y/5)} `}),t.addEventListener("mouseout",function(t){e.innerHTML=null})},c=a(4),i=a(5),d=a(6),f=a(7);var m=function(){const e={x:0,y:0},t=document.getElementById("mainCanvas");n.a.canvas=t;const a=t.getContext("2d");t.addEventListener("click",r=>{if(e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop,"paintAllPixels"===n.a.state&&"?"!==n.a.currentColor){const t=n.a.array[Math.floor(e.y/5)][Math.floor(e.x/5)].color;for(let e=0;e<n.a.array.length;e++)for(let r=0;r<n.a.array.length;r++)n.a.array[e][r].color===t&&(n.a.array[e][r].color=n.a.currentColor,a.fillStyle=n.a.currentColor,a.fillRect(5*r,5*e,5,5))}})};var u=function(){const e={x:0,y:0},t=document.getElementById("currentColor"),a=document.getElementById("previousColor"),r=document.getElementById("mainCanvas");r.addEventListener("click",o=>{if("colorPicker"===n.a.state){e.x=o.pageX-r.offsetLeft,e.y=o.pageY-r.offsetTop;const l=n.a.array[Math.floor(e.y/5)][Math.floor(e.x/5)].color;n.a.previousColor=n.a.currentColor,n.a.currentColor=l,t.style.backgroundColor=n.a.currentColor,a.style.backgroundColor=n.a.previousColor}})},y=a(1);var g=function(){const e={x:0,y:0},t=document.getElementById("mainCanvas"),a={start:"?",finish:"?"};t.addEventListener("mousedown",r=>{"stroke"===n.a.state&&(e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop,a.start={y:Math.floor(e.y/5),x:Math.floor(e.x/5)})}),t.addEventListener("mouseup",r=>{if("stroke"===n.a.state){function o(e,t){for(;e>0&&t>0;){let r;e-=r=t%2?Math.floor(e/t):Math.ceil(e/t),t--,a.array.push(r)}a.arraySum=a.array.reduce((e,t)=>e+t)}if(e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop,a.finish={y:Math.floor(e.y/5),x:Math.floor(e.x/5)},a.finish.x-a.start.x>0?a.distanceX=1+a.finish.x-a.start.x:a.distanceX=-1+a.finish.x-a.start.x,a.finish.y-a.start.y>0?a.distanceY=1+a.finish.y-a.start.y:a.distanceY=-1+a.finish.y-a.start.y,a.array=[],Math.abs(a.distanceX)>Math.abs(a.distanceY))if(o(Math.abs(a.distanceX),Math.abs(a.distanceY)),a.distanceY>0){let e=0;if(a.distanceX>0)for(let t=0;t<a.distanceY;t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+t,a.start.x+e,n.a.currentColor),n.a.array[a.start.y+t][a.start.x+e].color=n.a.currentColor,e++;else for(let t=0;t<a.distanceY;t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+t,a.start.x+e,n.a.currentColor),n.a.array[a.start.y+t][a.start.x+e].color=n.a.currentColor,e--}else{let e=0;if(a.distanceX>0)for(let t=0;t<Math.abs(a.distanceY);t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y-t,a.start.x+e,n.a.currentColor),n.a.array[a.start.y-t][a.start.x+e].color=n.a.currentColor,e++;else for(let t=0;t<Math.abs(a.distanceY);t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y-t,a.start.x+e,n.a.currentColor),n.a.array[a.start.y-t][a.start.x+e].color=n.a.currentColor,e--}else if(o(Math.abs(a.distanceY),Math.abs(a.distanceX)),a.distanceY>0){let e=0;if(a.distanceX>0)for(let t=0;t<a.distanceY;t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+e,a.start.x+t,n.a.currentColor),n.a.array[a.start.y+e][a.start.x+t].color=n.a.currentColor,e++;else for(let t=0;t<a.distanceY;t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+e,a.start.x-t,n.a.currentColor),n.a.array[a.start.y+e][a.start.x-t].color=n.a.currentColor,e++}else{let e=0;if(a.distanceX>0)for(let t=0;t<Math.abs(a.distanceY);t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+e,a.start.x+t,n.a.currentColor),n.a.array[a.start.y+e][a.start.x+t].color=n.a.currentColor,e--;else for(let t=0;t<Math.abs(a.distanceY);t++)for(let r=0;r<a.array[t];r++)Object(y.b)(n.a.array,a.start.y+e,a.start.x-t,n.a.currentColor),n.a.array[a.start.y+e][a.start.x-t].color=n.a.currentColor,e--}n.a.canvas=t;const l=t.getContext("2d");l.clearRect(0,0,5*n.a.array.length,5*n.a.array.length);for(let e=0;e<n.a.array.length;e++)for(let t=0;t<n.a.array.length;t++)"?"!==n.a.array[e][t].color&&(l.fillStyle=n.a.array[e][t].color,l.fillRect(5*t,5*e,5,5))}})};var p=function(){const e={x:0,y:0},t=document.getElementById("mainCanvas"),a={start:"?",finish:"?",vertex:{y:"?",x:"?"}};t.addEventListener("mousedown",r=>{"rectangle"===n.a.state&&(e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop,a.start={y:Math.floor(e.y/5),x:Math.floor(e.x/5)})}),t.addEventListener("mouseup",r=>{if("rectangle"===n.a.state){e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop,a.finish={y:Math.floor(e.y/5),x:Math.floor(e.x/5)},a.distanceX=Math.abs(a.finish.x-a.start.x),a.distanceY=Math.abs(a.finish.y-a.start.y),a.start.y<a.finish.y?a.vertex.y=a.start.y:a.vertex.y=a.finish.y,a.start.x<a.finish.x?a.vertex.x=a.start.x:a.vertex.x=a.finish.x;for(let e=0;e<=a.distanceY;e++)Object(y.b)(n.a.array,a.vertex.y+e,a.vertex.x,n.a.currentColor),Object(y.b)(n.a.array,a.vertex.y+e,a.vertex.x+a.distanceX,n.a.currentColor);for(let e=0;e<=a.distanceX;e++)Object(y.b)(n.a.array,a.vertex.y,a.vertex.x+e,n.a.currentColor),Object(y.b)(n.a.array,a.vertex.y+a.distanceY,a.vertex.x+e,n.a.currentColor);n.a.canvas=t;const o=t.getContext("2d");o.clearRect(0,0,5*n.a.array.length,5*n.a.array.length);for(let e=0;e<n.a.array.length;e++)for(let t=0;t<n.a.array.length;t++)"?"!==n.a.array[e][t].color&&(o.fillStyle=n.a.array[e][t].color,o.fillRect(5*t,5*e,5,5))}})};var h=function(){const e={x:0,y:0},t=document.getElementById("mainCanvas"),a=t.getContext("2d");function r(r){if("lighten"===n.a.state){e.x=r.pageX-t.offsetLeft,e.y=r.pageY-t.offsetTop;const o=n.a.array[Math.floor(e.y/5)][Math.floor(e.x/5)],l=/\d+/gi,s=o.color.match(l);for(let e=0;e<s.length;e++)s[e]<240?s[e]=+s[e]+15:s[e]=255;o.color=`rgb(${s[0]}, ${s[1]}, ${s[2]})`;for(let t=0;t<n.a.penSize;t++)for(let r=0;r<n.a.penSize;r++)n.a.array[Math.floor(e.y/5)+t][Math.floor(e.x/5)+r]={color:o.color},Object(y.a)(a,Math.floor(e.y/5)+t,Math.floor(e.x/5)+r,o.color)}}t.addEventListener("mousedown",e=>{r(e),t.addEventListener("mousemove",function e(a){r(a),document.addEventListener("mouseup",function a(n){r(n),t.removeEventListener("mousemove",e),document.removeEventListener("mouseup",a)})})})};function v(e,t,a,r){let o=0,l=n.a.penSize;n.a.penSize%2==0&&(l+=1);for(let s=0;s<l;s++)for(let c=0;c<l;c++)o<1?(e[t+s][a+c]={color:n.a.currentColor},r.fillStyle=n.a.currentColor,r.fillRect(5*(a+c),5*(t+s),l,l),o++):(e[t+s][a+c]={color:n.a.previousColor},r.fillStyle=n.a.previousColor,r.fillRect(5*(a+c),5*(t+s),l,l),o=0)}var C=function(){const e={x:0,y:0};let t=!1;const a=document.getElementById("mainCanvas");n.a.canvas=a;const r=a.getContext("2d");a.addEventListener("mousedown",o=>{e.x=o.pageX-a.offsetLeft,e.y=o.pageY-a.offsetTop,"dithering"===n.a.state&&"?"!==n.a.currentColor&&(t=!0,v(n.a.array,Math.floor(e.y/5),Math.floor(e.x/5),r))}),a.addEventListener("mousemove",o=>{!0===t&&"dithering"===n.a.state&&(e.x=o.pageX-a.offsetLeft,e.y=o.pageY-a.offsetTop,v(n.a.array,Math.floor(e.y/5),Math.floor(e.x/5),r)),"dithering"===n.a.state&&(document.onmouseup=()=>{t=!1,document.onmouseup=null})})};Object(r.b)(),Object(n.b)(),Object(n.c)(),o(),l(),s(),Object(c.a)(),Object(i.a)(),Object(d.a)(),Object(f.a)(),m(),u(),g(),p(),h(),C(),function(){const e=document.getElementById("mainCanvas");e.addEventListener("mousedown",()=>{document.addEventListener("mouseup",function e(){const t=document.getElementById("current"),a=t.getContext("2d");Object(y.c)(n.a.array,a,128/n.a.array.length,n.a.array.length),n.a.frames[`${t.parentElement.id}`]=JSON.parse(JSON.stringify(n.a.array)),document.removeEventListener("mouseup",e)})}),e.addEventListener("click",()=>{const e=document.getElementById("current"),t=e.getContext("2d");Object(y.c)(n.a.array,t,128/n.a.array.length,n.a.array.length),n.a.frames[`${e.parentElement.id}`]=JSON.parse(JSON.stringify(n.a.array))});const t=document.getElementById("addFrame");t.addEventListener("click",()=>{const a=document.getElementById("frames"),r=document.getElementById("current");n.a.frames[r.parentElement.id]=JSON.parse(JSON.stringify(n.a.array)),n.a.array=JSON.parse(JSON.stringify(n.a.arrayClean)),e.getContext("2d").clearRect(0,0,5*n.a.array.length,5*n.a.array.length),null!==r&&r.removeAttribute("id");const o=document.createElement("div");o.className="frame";const l=Object.keys(n.a.frames);o.id=`frame_${+l[l.length-1].match(/\d+/)+1}`,a.insertBefore(o,t),n.a.frames[o.id]=JSON.parse(JSON.stringify(n.a.array));const s=document.createElement("canvas");s.className=`canvas canvas_${+l[l.length-1].match(/\d+/)+1}`,s.id="current",s.width=128,s.height=128,o.appendChild(s);const c=document.createElement("div");c.className="framesFunctions copy",o.appendChild(c);const i=document.createElement("div");i.className="framesFunctions delete",o.appendChild(i);const d=document.createElement("div");d.className="framesFunctions move",o.appendChild(d);const f=document.createElement("div");f.className="framesFunctions number",f.innerHTML=`${+l[l.length-1].match(/\d+/)+1}`,o.appendChild(f)});const a=document.getElementById("frames");a.addEventListener("click",t=>{let r=Object.keys(n.a.frames),o=Object.values(n.a.frames);if(r.length>1){if("framesFunctions delete"===t.target.className)if(delete n.a.frames[t.target.parentNode.id],"current"===t.target.parentElement.children[0].id){a.removeChild(t.target.parentNode),r=Object.keys(n.a.frames),o=Object.values(n.a.frames),a.children[r.length-1].firstElementChild.setAttribute("id","current");const l=e.getContext("2d");n.a.array=o[o.length-1],Object(y.c)(n.a.array,l,640/n.a.array.length,n.a.array.length)}else a.removeChild(t.target.parentNode)}else{n.a.array=JSON.parse(JSON.stringify(n.a.arrayClean));let a=e.getContext("2d");a.clearRect(0,0,5*n.a.array.length,5*n.a.array.length),(a=t.target.parentElement.children[0].getContext("2d")).clearRect(0,0,5*n.a.array.length,5*n.a.array.length)}}),a.addEventListener("click",e=>{let t=Object.keys(n.a.frames);if("framesFunctions copy"===e.target.className){const r=document.createElement("div");r.className="frame",t=Object.keys(n.a.frames),r.id=`frame_${+t[t.length-1].match(/\d+/)+1}`,a.insertBefore(r,e.target.parentElement),n.a.frames[r.id]=JSON.parse(JSON.stringify(n.a.frames[e.target.parentElement.id]));const o=document.createElement("canvas");o.className=`canvas canvas_${+t[t.length-1].match(/\d+/)+1}`,o.width=128,o.height=128,r.appendChild(o);const l=o.getContext("2d");Object(y.c)(n.a.frames[r.id],l,128/n.a.array.length,n.a.array.length);const s=document.createElement("div");s.className="framesFunctions copy",r.appendChild(s);const c=document.createElement("div");c.className="framesFunctions delete",r.appendChild(c);const i=document.createElement("div");i.className="framesFunctions move",r.appendChild(i);const d=document.createElement("div");d.className="framesFunctions number",d.innerHTML=`${+t[t.length-1].match(/\d+/)+1}`,r.appendChild(d)}}),a.addEventListener("click",t=>{if(128===t.target.width&&"current"!==t.target.id){const a=document.getElementById("current"),r=e.getContext("2d");n.a.array=JSON.parse(JSON.stringify(n.a.frames[t.target.parentElement.id])),r.clearRect(0,0,5*n.a.array.length,5*n.a.array.length),Object(y.c)(n.a.array,r,640/n.a.array.length,n.a.array.length),a.removeAttribute("id"),t.target.id="current"}})}(),function(){const e={pen:"p",eraser:"e",verticalMirrorPen:"v",horizontalMirrorPen:"h",paintBucket:"b",paintAllPixels:"a",move:"m",stroke:"s",rectangle:"r",circle:"c",rectangleSelection:"n",lassoSelection:"m",lighten:"l",dithering:"d",colorPicker:"z"};function t(t){const a=document.getElementsByClassName("instrumentsCurrent"),r=Array.from(a);switch(r.length>0&&(r[0].className="instruments"),t.key){case e.pen:n.a.state="pen";break;case e.eraser:n.a.state="eraser";break;case e.verticalMirrorPen:n.a.state="verticalMirrorPen";break;case e.horizontalMirrorPen:n.a.state="horizontalMirrorPen";break;case e.paintBucket:n.a.state="paintBucket";break;case e.paintAllPixels:n.a.state="paintAllPixels";break;case e.move:n.a.state="move";break;case e.stroke:n.a.state="stroke";break;case e.rectangle:n.a.state="rectangle";break;case e.circle:n.a.state="circle";break;case e.rectangleSelection:n.a.state="rectangleSelection";break;case e.lassoSelection:n.a.state="lassoSelection";break;case e.lighten:n.a.state="lighten";break;case e.dithering:n.a.state="dithering";break;case e.colorPicker:n.a.state="colorPicker"}document.getElementById(n.a.state).className="instrumentsCurrent"}document.addEventListener("keypress",t);const a=Object.keys(e);let r=Object.values(e);document.getElementById("keyBoard").addEventListener("click",()=>{const n=document.createElement("div");n.className="keyBoardBox";const o=document.getElementsByTagName("main"),l=Array.from(o)[0];l.appendChild(n);const s=document.createElement("h3");s.className="keyBoardBoxHead",n.appendChild(s);const c=document.createElement("span");c.innerHTML="Keyboard Shortcuts",s.appendChild(c);const i=document.createElement("span");i.innerHTML="X",i.className="keyBoardBoxClose",i.id="keyBoardBoxClosev",s.appendChild(i);const d=document.createElement("ul");n.appendChild(d);for(let e=0;e<a.length;e++){const t=document.createElement("li");t.className=`LI${e}`,d.appendChild(t);const n=document.createElement("div");n.className=`image LI${a[e]}`,t.appendChild(n);const o=document.createElement("div");o.className="LIkeys",o.innerHTML=r[e].toUpperCase(),t.appendChild(o);const l=document.createElement("div");l.className="LIdescription",l.innerHTML=`${a[e]} tool`.toUpperCase(),t.appendChild(l)}document.addEventListener("click",function o(s){function c(){for(let t=0;t<r.length;t++){const n=document.getElementsByClassName("LIkeys"),o=Array.from(n);r=Object.values(e),e[a[t]]=o[t].innerHTML.toLowerCase()}}if(document.removeEventListener("keypress",t),s.target===i&&(l.removeChild(n),document.addEventListener("keypress",t),document.removeEventListener("click",o)),"LIkeys"===s.target.className||"LIkeys blink"===s.target.className){const n=r.indexOf(s.target.innerHTML.toLowerCase()),o=a[n];e[o]="?",c(),s.target.className="LIkeys blink",document.addEventListener("keypress",function e(a){const n=document.getElementsByClassName("LIkeys"),o=Array.from(n);-1===r.indexOf(a.key)?(s.target.innerHTML=a.key.toUpperCase(),s.target.className="LIkeys",document.removeEventListener("keypress",e),document.addEventListener("keypress",t),c()):(o[r.indexOf(a.key)].innerHTML="?",o[r.indexOf(a.key)].className="LIkeys blink",c(),s.target.innerHTML=a.key.toUpperCase(),s.target.className="LIkeys",c(),document.removeEventListener("keypress",e),document.addEventListener("keypress",t))})}})})}(),document.getElementById("saveLocal").addEventListener("click",()=>{localStorage.setItem("instrument",JSON.stringify(n.a)),localStorage.setItem("canvas",JSON.stringify(r.a))}),document.getElementById("loadLocal").addEventListener("click",()=>{const e=JSON.parse(localStorage.instrument),t=Object.keys(e),a=Object.values(e),r=document.getElementById("mainCanvas");for(let e=0;e<t.length;e++)n.a[t[e]]=a[e];!function(e){const t=document.getElementById("center"),a=document.getElementById("canvasSizeTemp");a&&(t.removeChild(a),r.width=5*e,r.style.width=`${5*e}px`,r.height=5*e,t.style.padding=`${(640-5*e)/2}px`,r.style.border="1px solid white",r.style.opacity="1")}(n.a.frames[Object.keys(n.a.frames)[0]].length);const o=Object.keys(n.a.frames),l=Object.values(n.a.frames);function s(e){const t=document.getElementById("addFrame"),a=document.getElementById("frames"),r=document.getElementById("current");null!==r&&r.removeAttribute("id");const s=document.createElement("div");s.className="frame",s.id=o[e],a.insertBefore(s,t);const c=document.createElement("canvas");c.className=`canvas canvas_${+o[e].match(/\d+/)}`,c.width=128,c.height=128,c.id="current",s.appendChild(c);const i=c.getContext("2d");Object(y.c)(l[e],i,c.width/l[e].length,l[e].length),n.a.array=JSON.parse(JSON.stringify(l[e]));const d=document.createElement("div");d.className="framesFunctions copy",s.appendChild(d);const f=document.createElement("div");f.className="framesFunctions delete",s.appendChild(f);const m=document.createElement("div");m.className="framesFunctions move",s.appendChild(m);const u=document.createElement("div");u.className="framesFunctions number",u.innerHTML=`${+o[e].match(/\d+/)}`,s.appendChild(u)}!function(){const e=document.getElementById("frames"),t=document.getElementById("addFrame");for(;e.firstChild!==t;)e.removeChild(e.firstChild)}();for(let e=0;e<o.length;e++)s(e);const c=r.getContext("2d"),i=l[l.length-1];Object(y.c)(i,c,r.width/i.length,i.length),function(){const e=document.getElementsByClassName("penSizeCurrent");if(0!==e.length){const t=Array.from(e);t[0].className="penSize",t[0].children[0].className="square"}const t=document.getElementsByClassName("penSize"),a=Array.from(t);a[n.a.penSize-1].className="penSizeCurrent",a[n.a.penSize-1].children[0].className="squareCurrent"}(),function(){const e=document.getElementsByClassName("instrumentsCurrent");0!==e.length&&(Array.from(e)[0].className="instruments");const t=document.getElementsByClassName("instruments"),a=Array.from(t);for(let e=0;e<a.length;e++)a[e].innerHTML===n.a.state&&(a[e].className="instrumentsCurrent")}(),document.getElementById("currentColor").style.backgroundColor=n.a.currentColor,document.getElementById("previousColor").style.backgroundColor=n.a.previousColor,function(){const e=document.getElementById("preview").getContext("2d");let t,a=0;setInterval(()=>{const r=document.getElementsByClassName("frame");t=Array.from(r),a<t.length?(e.clearRect(0,0,224,224),e.drawImage(t[a].children[0],0,0),++a>=t.length&&(a=0)):a=0},300)}()})}]);
//# sourceMappingURL=app.bundle.js.map